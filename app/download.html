<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Descarga • ZyrAkaNetwork</title>

<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet">

<style>
:root{
--bg:#050914;
--glass:rgba(255,255,255,.12);
--border:rgba(255,255,255,.18);
--txt:#fff;
--muted:rgba(255,255,255,.65);
--a:#00e0ff;
--b:#6affc8;
--spring:cubic-bezier(.16,1,.3,1);
}

*{
box-sizing:border-box;
-webkit-tap-highlight-color:transparent;
}

body{
margin:0;
font-family:Outfit,system-ui;
background:
radial-gradient(900px 500px at 10% 10%,#102e5a,transparent),
radial-gradient(900px 500px at 90% 90%,#063f36,transparent),
var(--bg);
color:var(--txt);
overflow-x:hidden;
}

.lights{
position:fixed;
inset:-30%;
filter:blur(220px);
pointer-events:none;
z-index:0;
}
.lights span{
position:absolute;
width:60vw;
height:60vw;
border-radius:50%;
background:rgba(255,255,255,.12);
animation:float 80s ease-in-out infinite;
}
.lights span:nth-child(2){
animation-duration:110s;
right:0;
bottom:0;
}

@keyframes float{
50%{transform:translate(240px,-180px)}
}

.app{
position:relative;
z-index:1;
max-width:1300px;
margin:auto;
padding:80px 64px 120px;
display:flex;
flex-direction:column;
gap:64px;
animation:intro .9s var(--spring);
}

@keyframes intro{
from{opacity:0;transform:translateY(20px)}
}

.header{
max-width:760px;
animation:fade .8s .1s both;
}
.header h1{
font-size:42px;
font-weight:900;
margin:0;
}
.header p{
margin-top:16px;
font-size:18px;
line-height:1.8;
color:var(--muted);
}

@keyframes fade{
from{opacity:0;transform:translateY(12px)}
}

.sections{
display:grid;
gap:28px;
}

.section{
background:linear-gradient(180deg,rgba(255,255,255,.22),rgba(255,255,255,.08));
backdrop-filter:blur(48px) saturate(180%);
border:1px solid var(--border);
border-radius:34px;
overflow:hidden;
box-shadow:0 40px 140px rgba(0,0,0,.7);
transform-style:preserve-3d;
transition:.6s var(--spring);
}

.section:hover{
transform:translateY(-6px) scale(1.01);
}

.section-header{
display:flex;
align-items:center;
gap:20px;
padding:30px 34px;
cursor:pointer;
}
.section-header span{
font-size:34px;
background:linear-gradient(135deg,var(--a),var(--b));
-webkit-background-clip:text;
color:transparent;
}
.section-header strong{
font-size:21px;
font-weight:800;
flex:1;
}

.section-content{
max-height:0;
opacity:0;
overflow:hidden;
padding:0 34px;
transform:translateY(-12px);
transition:
max-height: .8s var(--spring),
opacity: .5s ease,
transform: .6s var(--spring);
}

.section.open .section-content{
max-height:600px;
opacity:1;
transform:none;
padding-bottom:34px;
}

.section-content p{
margin:20px 0 28px;
line-height:1.75;
color:rgba(255,255,255,.82);
}

.download{
height:60px;
max-width:320px;
border-radius:22px;
background:linear-gradient(135deg,var(--a),var(--b));
display:flex;
align-items:center;
justify-content:center;
gap:12px;
font-weight:900;
color:#000;
text-decoration:none;
box-shadow:0 30px 120px rgba(0,224,255,.6);
transition:.35s var(--spring);
position:relative;
overflow:hidden;
}

.download::after{
content:'';
position:absolute;
inset:0;
background:linear-gradient(120deg,transparent,rgba(255,255,255,.6),transparent);
transform:translateX(-100%);
transition:.6s;
}

.download:hover::after{
transform:translateX(100%);
}

.download:hover{
transform:translateY(-4px) scale(1.02);
}

.download:active{
transform:scale(.95);
}

.loader{
height:70vh;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
gap:24px;
}

.spinner{
width:74px;
height:74px;
border-radius:50%;
border:4px solid rgba(255,255,255,.25);
border-top-color:var(--a);
animation:spin .9s linear infinite;
}

@keyframes spin{to{rotate:360deg}}

.error{
text-align:center;
margin-top:100px;
animation:fade .8s both;
}
.error span{
font-size:80px;
opacity:.7;
}

@media(max-width:900px){
.app{padding:40px 20px 80px}
.header h1{font-size:30px}
}
</style>
</head>

<body>

<div class="lights"><span></span><span></span></div>

<div id="app" class="app">
<div class="loader">
<div class="spinner"></div>
<p>Cargando plataforma…</p>
</div>
</div>

<script>
const DATA_URL='/api/control/descarga-manager.json'
const app=document.getElementById('app')
const id=new URLSearchParams(location.search).get('id')

const rich=t=>t
.replace(/\*\*(.*?)\*\*/g,'<b>$1</b>')
.replace(/_(.*?)_/g,'<i>$1</i>')
.replace(/`(.*?)`/g,'<code>$1</code>')

const error=(t,m)=>app.innerHTML=`
<div class="error">
<span class="material-symbols-rounded">error</span>
<h1>${t}</h1><p>${m}</p>
</div>`

if(!id) error('Descarga no válida','No se especificó producto.')
else fetch(DATA_URL,{cache:'no-store'})
.then(r=>r.ok?r.json():0)
.then(d=>{
const p=d.productos?.[id]
if(!p)return error('No encontrado','Producto inexistente.')

app.innerHTML=`
<div class="header">
<h1>${p.titulo}</h1>
<p>${rich(p.descripcion)}</p>
</div>
<div class="sections">
${p.secciones.map((s,i)=>`
<div class="section" id="s${i}">
<div class="section-header" onclick="toggle(${i})">
<span class="material-symbols-rounded">${s.icono}</span>
<strong>${s.titulo}</strong>
</div>
<div class="section-content">
<p>${rich(s.descripcion)}</p>
<a class="download" href="${s.url}">
<span class="material-symbols-rounded">download</span> Descargar
</a>
</div>
</div>`).join('')}
</div>`
})
.catch(()=>error('Error','No se pudo cargar la información.'))

function toggle(i){
document.querySelectorAll('.section').forEach(s=>s.classList.remove('open'))
document.getElementById('s'+i).classList.add('open')
}
</script>

</body>
</html>

