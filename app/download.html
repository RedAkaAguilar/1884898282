<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Descarga • ZyrAkaNetwork</title>

<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700;900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet">

<style>
:root{
--bg:#0e1116;
--glass:rgba(255,255,255,.16);
--glass-strong:rgba(255,255,255,.28);
--border:rgba(255,255,255,.35);
--txt:#fff;
--muted:#cbd5e1;
--green:#22c55e;
--blue:#38bdf8;
--blur:32px;
--spring:cubic-bezier(.28,1.25,.55,1);
}

*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}

body{
margin:0;
font-family:Outfit,system-ui;
color:var(--txt);
background:linear-gradient(120deg,#290d0b,#291e0b,#27290b,#13290b,#0b291a,#0b2529,#0b1729,#130b29,#240b29,#290b17);
background-size:400% 400%;
animation:bgMove 18s ease infinite;
overflow-x:hidden;
}

@keyframes bgMove{
0%{background-position:0% 50%}
50%{background-position:100% 50%}
100%{background-position:0% 50%}
}

.liquid-bg{
position:fixed;
inset:-25%;
filter:blur(120px);
pointer-events:none;
z-index:-1;
}
.liquid-bg span{
position:absolute;
width:45vw;
height:45vw;
border-radius:50%;
background:rgba(255,255,255,.18);
animation:liquidMove 26s ease-in-out infinite;
}
.liquid-bg span:nth-child(2){animation-duration:34s;bottom:10%;right:10%}
.liquid-bg span:nth-child(3){animation-duration:40s;top:40%;right:30%}

@keyframes liquidMove{
50%{transform:translate(90px,-70px) scale(1.25)}
}

.app{
max-width:1200px;
margin:auto;
padding:80px 64px 120px;
display:flex;
flex-direction:column;
gap:64px;
opacity:0;
transform:translateY(30px) scale(.97);
filter:blur(10px);
animation:appIn .9s var(--spring) forwards;
}

@keyframes appIn{
to{opacity:1;transform:none;filter:none}
}

.header{
max-width:760px;
}
.header h1{
font-size:42px;
font-weight:900;
margin:0;
}
.header p{
margin-top:16px;
font-size:18px;
line-height:1.8;
color:var(--muted);
}

.sections{
display:grid;
gap:28px;
}

.section{
background:linear-gradient(180deg,var(--glass-strong),rgba(255,255,255,.08));
backdrop-filter:blur(var(--blur)) saturate(180%);
border:1px solid var(--border);
border-radius:32px;
box-shadow:0 40px 140px rgba(0,0,0,.75);
overflow:hidden;
opacity:0;
transform:translateY(20px) scale(.96);
animation:cardIn .8s var(--spring) forwards;
}
.section:nth-child(1){animation-delay:.1s}
.section:nth-child(2){animation-delay:.2s}
.section:nth-child(3){animation-delay:.3s}

@keyframes cardIn{
to{opacity:1;transform:none}
}

.section:hover{
transform:translateY(-6px) scale(1.015);
}

.section-header{
display:flex;
align-items:center;
gap:20px;
padding:30px 34px;
cursor:pointer;
}

.section-header span{
font-size:34px;
background:linear-gradient(135deg,var(--green),var(--blue));
-webkit-background-clip:text;
color:transparent;
transition:transform .4s var(--spring);
}

.section:hover .section-header span{
transform:scale(1.25);
}

.section-header strong{
font-size:21px;
font-weight:800;
flex:1;
}

.section-content{
max-height:0;
opacity:0;
padding:0 34px;
overflow:hidden;
transform:translateY(-10px);
transition:
max-height .9s var(--spring),
opacity .5s ease,
transform .6s var(--spring);
}

.section.open .section-content{
max-height:700px;
opacity:1;
transform:none;
padding-bottom:34px;
}

.section-content p{
margin:22px 0 28px;
line-height:1.75;
color:rgba(255,255,255,.85);
}

.download{
height:62px;
max-width:340px;
border-radius:999px;
background:linear-gradient(135deg,var(--green),var(--blue));
display:flex;
align-items:center;
justify-content:center;
gap:14px;
font-weight:900;
color:#fff;
text-decoration:none;
box-shadow:0 0 40px rgba(56,189,248,.45);
position:relative;
overflow:hidden;
transition:.4s var(--spring);
}

.download::before{
content:"";
position:absolute;
inset:0;
background:linear-gradient(120deg,transparent,rgba(255,255,255,.65),transparent);
transform:translateX(-120%);
transition:.9s ease;
}

.download:hover::before{
transform:translateX(120%);
}

.download:hover{
transform:translateY(-6px) scale(1.05);
box-shadow:0 0 70px rgba(56,189,248,.75);
}

.download:active{
transform:scale(.92);
}

.loader{
height:70vh;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
gap:24px;
}

.spinner{
width:76px;
height:76px;
border-radius:50%;
border:4px solid rgba(255,255,255,.25);
border-top-color:var(--blue);
animation:spin .9s linear infinite;
}

@keyframes spin{to{rotate:360deg}}

.error{
text-align:center;
margin-top:100px;
}
.error span{
font-size:80px;
opacity:.7;
}

@media(max-width:900px){
.app{padding:40px 20px 80px}
.header h1{font-size:30px}
}
</style>
</head>

<body>

<div class="liquid-bg"><span></span><span></span><span></span></div>

<div id="app" class="app">
<div class="loader">
<div class="spinner"></div>
<p>Cargando plataforma…</p>
</div>
</div>

<script>
const DATA_URL='/api/control/descarga-manager.json'
const app=document.getElementById('app')
const id=new URLSearchParams(location.search).get('id')

const rich=t=>t
.replace(/\*\*(.*?)\*\*/g,'<b>$1</b>')
.replace(/_(.*?)_/g,'<i>$1</i>')
.replace(/`(.*?)`/g,'<code>$1</code>')

const error=(t,m)=>app.innerHTML=`
<div class="error">
<span class="material-symbols-rounded">error</span>
<h1>${t}</h1><p>${m}</p>
</div>`

if(!id) error('Descarga no válida','No se especificó producto.')
else fetch(DATA_URL,{cache:'no-store'})
.then(r=>r.ok?r.json():0)
.then(d=>{
const p=d.productos?.[id]
if(!p)return error('No encontrado','Producto inexistente.')

app.innerHTML=`
<div class="header">
<h1>${p.titulo}</h1>
<p>${rich(p.descripcion)}</p>
</div>
<div class="sections">
${p.secciones.map((s,i)=>`
<div class="section" id="s${i}">
<div class="section-header" onclick="toggle(${i})">
<span class="material-symbols-rounded">${s.icono}</span>
<strong>${s.titulo}</strong>
</div>
<div class="section-content">
<p>${rich(s.descripcion)}</p>
<a class="download" href="${s.url}">
<span class="material-symbols-rounded">download</span> Descargar
</a>
</div>
</div>`).join('')}
</div>`
})
.catch(()=>error('Error','No se pudo cargar la información.'))

function toggle(i){
document.querySelectorAll('.section').forEach(s=>s.classList.remove('open'))
const sec=document.getElementById('s'+i)
sec.classList.add('open')
sec.scrollIntoView({behavior:'smooth',block:'center'})
}
</script>

</body>
</html>
