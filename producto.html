<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Producto</title>

<link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded" rel="stylesheet">

<style>
:root{
  --bg:#eaeded;
  --card:#ffffff;
  --border:#d5d9d9;
  --text:#0f1111;
  --muted:#565959;
  --amazon:#ffd814;
  --amazon-hover:#f7ca00;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:Outfit,sans-serif;
  background:var(--bg);
  color:var(--text);
}

/* ---------- LAYOUT ---------- */

.container{
  max-width:1200px;
  margin:auto;
  padding:18px;
}

.product{
  display:grid;
  gap:24px;
}

/* PC */
@media(min-width:900px){
  .product{
    grid-template-columns:1.1fr 1fr 320px;
    align-items:start;
  }
}

/* ---------- IMAGEN ---------- */

.media{
  background:white;
  border:1px solid var(--border);
  border-radius:8px;
  padding:10px;
}

.media img{
  width:100%;
  height:420px;
  object-fit:contain;
}

/* ---------- INFO ---------- */

.info h1{
  font-size:clamp(22px,2.5vw,28px);
  margin:0 0 6px;
}

.brand{
  color:#007185;
  font-size:14px;
}

.rating{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:14px;
  margin:8px 0;
}

.rating span{
  color:#ffa41c;
}

.desc{
  font-size:15px;
  line-height:1.6;
  color:var(--muted);
  border-top:1px solid var(--border);
  padding-top:12px;
}

/* ---------- COMPRA ---------- */

.buybox{
  background:white;
  border:1px solid var(--border);
  border-radius:8px;
  padding:16px;
}

.price{
  font-size:28px;
  font-weight:700;
}

.old{
  font-size:14px;
  color:#565959;
  text-decoration:line-through;
}

.stock{
  color:#007600;
  font-size:14px;
  margin:8px 0;
}

.btn{
  width:100%;
  border:none;
  border-radius:24px;
  padding:12px;
  font-weight:700;
  font-size:16px;
  background:var(--amazon);
  cursor:pointer;
  margin-top:10px;
}

.btn:hover{
  background:var(--amazon-hover);
}

.btn.alt{
  background:#ffa41c;
}

/* ---------- BACK ---------- */

.back{
  display:inline-flex;
  align-items:center;
  gap:6px;
  font-size:14px;
  color:#007185;
  text-decoration:none;
  margin-bottom:10px;
}

/* ---------- MOBILE ---------- */

@media(max-width:899px){
  .media img{
    height:300px;
  }
  .buybox{
    order:-1;
  }
}
</style>
</head>

<body>

<div class="container">
  <a href="index.html" class="back">
    <span class="material-symbols-rounded">arrow_back</span>
    Volver a la tienda
  </a>

  <div id="product"></div>
</div>

<script>
const params = new URLSearchParams(location.search);
const id = params.get("id");

async function cargar(){
  const res = await fetch("tienda.json");
  const data = await res.json();
  const p = data.productos.find(x => x.id === id);

  if(!p){
    product.innerHTML = "Producto no encontrado";
    return;
  }

  const final = p.descuento
    ? (p.precio - p.precio * p.descuento / 100).toFixed(2)
    : p.precio;

  product.innerHTML = `
    <div class="product">
      <div class="media">
        <img src="${p.imagen}" alt="${p.titulo}">
      </div>

      <div class="info">
        <div class="brand">${p.marca || "Marca genérica"}</div>
        <h1>${p.titulo}</h1>

        <div class="rating">
          <span>★★★★★</span>
          <div>${p.reviews || 120} calificaciones</div>
        </div>

        <p class="desc">${p.descripcion}</p>
      </div>

      <div class="buybox">
        <div class="price">$${final}</div>
        ${p.descuento ? `<div class="old">$${p.precio}</div>` : ""}
        <div class="stock">En stock</div>

        <a href="${p.link}" class="btn" target="_blank">
          Comprar ahora
        </a>

        <button class="btn alt">
          Agregar al carrito
        </button>
      </div>
    </div>
  `;
}

cargar();
</script>

</body>
</html>
